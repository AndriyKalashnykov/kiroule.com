[build]
  publish = "public"
  command = "hugo"

[context.production.environment]
  HUGO_VERSION = "0.68.3"
  HUGO_ENV = "production"
  HUGO_ENABLEGITINFO = "true"
  ALGOLIA_INDEX_NAME = "prod_kiroule"

[context.production]
  command = "./config.sh && hugo && algolia/run-index-upload.sh -p"

[context.dev.environment]
  HUGO_VERSION = "0.68.3"
  ALGOLIA_INDEX_NAME = "dev_kiroule"

[context.dev]
  command = "./config.sh && hugo -b $DEPLOY_PRIME_URL --buildFuture && algolia/run-index-upload.sh -p"

# Use this configuration for specific branch development
#[context.<feature-branch>.environment]
#  HUGO_VERSION = "0.68.3"
#  ALGOLIA_INDEX_NAME = "<feature-branch>_kiroule"
#
#[context.<feature-branch>]
#  command = "./config.sh && hugo -b $DEPLOY_PRIME_URL --buildFuture && algolia/run-index-upload.sh -p"
